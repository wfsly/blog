---
layout: post
title:  mysql索引基础
description: 
modified:   2019-09-09 10:10:36
tags: [dev]
---

数据库索引的出现其实就是为了提高数据查询的效率，像书的目录一样。


## 常见索引模型

1. 哈希表
	哈希表适用于只有等值查询的场景。

	缺点：
	若进行范围区间查询速度会很慢, 因为哈希并没有按照key进行排序存储

2. 有序数组
	有序数组在等值查询和范围查询场景中的性能都非常优秀。

	缺点：
	但是如果要更新数据的时候就很麻烦，往中间插一条数据就必须挪动后面的所有记录，成本很高。

	所以有序数组索引只适用于静态存储引擎，比如要保存2017年某城市的所有人口信息这类不会再修改的数据。


## 索引有关的概念

### 回表

由于自定义的索引，其值都是存储的主键id值，所以在以自定义索引值进行查询的时候，会现在自定义索引树中找到值对应的id值，然后
再去主键索引树中查找id对应的记录。从自定义索引树回到主键索引树搜索的过程，称之为回表。

但是回表肯定是会影响性能的。


### 覆盖索引
如果select查询只查询id字段，那么在自定义索引树上找到值对应的id后，就找到了查询结果，不需要再进行回表。因此这个自定义的索引
已经"覆盖了"我们的查询需求，此自定义索引称之为覆盖索引。

覆盖索引，避免了回表，减少了树的搜索次数，显著提升了查询性能，所以使用覆盖索引是一个常用的性能优化手段。
