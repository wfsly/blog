---
layout: post
title:  灰度、蓝绿、金丝雀发布
description: 
modified:   2018-10-15 09:50:02
tags: [dev]
---

## 灰度发布
参考 http://www.appadhoc.com/blog/what-is-gray-release/

## 蓝绿发布

蓝绿发布: 对v1版本的应用进行升级到v2, 先部署若干v2版本的应用，然后将流量从v1的应用切换到v2.之后将v1版本的停止

旧的v1版本为蓝色，新的v2版本为绿色，将应用的流量从蓝色版本切换到绿色版本

蓝绿发布依赖于流量路由。

## 金丝雀发布

金丝雀发布和蓝绿发布有点像，但是更加规避风险。金丝雀是阶段性的进行，而不是一次性的从蓝色版本切换到绿色版本。

采用金丝雀发布，先更新生产环境的小部分应用的版本，所以只会有少量用户被路由到新版本。最大程度的降低影响。如果没有错误发生，再将
新版本逐渐推广到整个生产环境。

其主要挑战是设计一种路由部分用户到新版本应用的方法。

[infoq文章][infoq]


[infoq]: https://www.infoq.cn/article/LEI4vSFPiw5A6eN-ASo4
